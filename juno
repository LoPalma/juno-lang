#!/usr/bin/env bash

# Check if we're in development or installed mode
if [ -d "$SCRIPT_DIR/target/classes" ]; then
  # Development mode
  JUNO_CLASSES="$SCRIPT_DIR/target/classes"
else
  # Installed mode - look for lib directory
  if [ -d "$SCRIPT_DIR/lib" ]; then
    JUNO_CLASSES="$SCRIPT_DIR/lib"
  elif [ -d "$SCRIPT_DIR/../juno-lib" ]; then
    JUNO_CLASSES="$SCRIPT_DIR/../juno-lib"
  else
    JUNO_CLASSES="$HOME/.local/share/juno/lib"
  fi
fi


if [ $# -lt 1 ]; then
  echo "Error: expected classname"
  exit 1
fi

CLASSNAME="$1"
shift
    
java -cp ".:$JUNO_CLASSES" "$CLASSNAME" "$@"
